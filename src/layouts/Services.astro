---

// Data
import { servicesList } from "../data/servicesList";

// Components
import ServicesCard from "@components/Services-card.astro";

// Packages
import '@splidejs/splide/dist/css/splide.min.css';

---

<section id="services">
  <div class="container">
    <main class="services__inner">
      <div class="services__inner-head">
        <h1>Tap into KYCAID's Force with Secure KYC Compliance in KAZAKHSTAN</h1>
        <p>Leverage biometric verification and database checks to strengthen customer authentication processes in Kazakhstan.</p>
      </div>
      <div class="services__inner-body">
        <div class="desktop-cards">
          {servicesList.map(({title, descr, image }) => (
            <ServicesCard title={title} descr={descr} image={image} />
          ))}
        </div>

      <div id="servicesSlider" class="splide">
        <div class="splide__track">
          <ul class="splide__list">
            {servicesList.map(({title, descr, image }) => (
                <li class="splide__slide">
                  <ServicesCard title={title} descr={descr} image={image} />
                </li>
              ))}
              </ul>
        </div>
      </div>

      </div>
    </main>
  </div>
</section>

<style lang="scss">
  #services {
    background-color: #F6F6F8;
    padding: 72px 0;
    border-top: 1px solid #E5E6E6;
  }
  .services__inner-head {
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;

    h1 {
      font-size: clamp(24px, 2.5vw, 44px);
      max-width: 850px;
    }
    p {
      margin: 32px 0;
      font-weight: 400;
      max-width: 880px;
      text-align: left;
      color: #595D62;
      text-align: center;
    }
  }

  .desktop-cards {
    display: block;
  }

  #servicesSlider {
    display: none;
  }



  @media screen and (max-width: 768px) {
    #services {
      padding: 32px 0;
    }
    .services__inner-head p {
      margin: 24px 0;
    }
    .services__inner-head {
      align-items: flex-start;
      text-align: left;

      p {
        text-align: left;
      }
    }
    .desktop-cards {
      display: none;
    }
    #servicesSlider {
      display: block;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    import('@splidejs/splide').then(({ default: Splide }) => {
      new Splide('#servicesSlider', {
        type: 'loop',
        perPage: 1,
        perMove: 1,
        autoplay: false,
        pagination: true,
        arrows: false,
        gap: 8,
        autoWidth: true,
      }).mount();
    });
  });
</script>
